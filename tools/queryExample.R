query<-list()
#Data load
query$pid="fao_commodity_dbquery_adv"
query$layer="fao_commodities_dbquery_adv_layer"
query$csw_server="https://geonetwork-sdi-lab.d4science.org/geonetwork/srv/eng/csw"
query$csw_version="2.0.2"
query$wfs_server="https://geoserver-sdi-lab.d4science.org/geoserver/sdilab_fisheriesatlas/ows"
query$wfs_version="1.0.0"
query$feature_geom="true"
query$wms_server="https://geoserver-sdi-lab.d4science.org/geoserver/sdilab_fisheriesatlas/wms"
query$wms_version="1.1.0"
query$stratgy="ogc_viewparams"
query$par="trade_flow:E;aggregation_method:sum"
query$x=-61.34765625
query$y=10.50292968750001
query$srs="EPSG:4326"
query$dsd=""
#Shiny views
query$geoCol="flag"
query$line.title="Line"
query$line.info="Your message here"
query$line.x="year"
query$line.y="value"
query$line.z="commodity"
query$line.caption="line chart"
query$bar.title="Bar"
query$bar.info="Your message here"
query$bar.x="year"
query$bar.y="value"
query$bar.z="commodity"
query$bar.caption="bar chart"
query$pie.title="Pie"
query$pie.info="Your message here"
query$pie.x="commodity"
query$pie.y="value"
query$pie.z="year"
query$pie.caption="pie"
query$donut.title="Pie"
query$donut.info="Your message here"
query$donut.x="commodity"
query$donut.y="value"
query$donut.z="year"
query$donut.caption="donut chart"
query$box.title="Box"
query$box.info="Your message here"
query$box.x="commodity"
query$box.z="year"
query$box.caption="box"
query$data.title="Data"
query$data.info="Your message here"
query$data.caption="table"
query$data.format="wide"
query$panel="line+bar+pie+donut+box+data"

query
#FAOCommodity
#?geoCol=flag&line.title=Line&line.info="Your%20message%20here"&line.x=year&line.y=value&line.z=commodity&line.caption=test&pie.title=Pie&pie.info="Your%20message%20here"&pie.x=commodity&pie.y=value&pie.z=year&pie.caption=test&box.title=Box&box.info="Your%20message%20here"&box.x=commodity&box.y=value&box.z=year&box.caption=test&data.title=Data&data.info="Your%20message%20here"&data.caption=table&panel=line+pie+box+data&pid=fao_commodity_dbquery_adv&layer=fao_commodities_dbquery_adv_layer&csw_server=https://geonetwork-sdi-lab.d4science.org/geonetwork/srv/eng/csw&csw_version=2.0.2&wfs_server=https://geoserver-sdi-lab.d4science.org/geoserver/sdilab_fisheriesatlas/ows&wfs_version=1.0.0&feature_geom=false&strategy=ogc_viewparams&par=trade_flow:E;aggregation_method:sum&srs=EPSG:4326
#?pid=fao_commodity_dbquery_adv&layer=fao_commodities_dbquery_adv_layer&csw_server=https://geonetwork-sdi-lab.d4science.org/geonetwork/srv/eng/csw&csw_version=2.0.2&wfs_server=https://geoserver-sdi-lab.d4science.org/geoserver/sdilab_fisheriesatlas/ows&wfs_version=1.0.0&wms_server=https://geoserver-sdi-lab.d4science.org/geoserver/sdilab_fisheriesatlas/wms&wms_version=1.1.0&feature_geom=false&strategy=ogc_viewparams&par=trade_flow:E;year:1993+1994+1995+1996+1997+1998+1999+2000+2001+2002+2003+2004+2005+2006+2007+2008+2009+2010+2011+2012+2013+2014+2015+2016+2017+2018;aggregation_method:sum&geom=geometry&x=17&y=217&width=256&height=256&bbox=0%2C5009377.085697312%2C5009377.085697311%2C10018754.171394624&srs=EPSG:3857&geoCol=flag&panel=line+bar+pie+donut+box+data&line.title=Line&line.info=Your message here&line.caption=Line chart&line.x=year&line.y=value&line.z=commodity&bar.title=Bar&bar.info=Your message here&bar.caption=Bar chart&bar.x=year&bar.y=value&bar.z=commodity&pie.title=Pie&pie.info=Your message here&pie.caption=Pie chart&pie.x=commodity&pie.y=value&pie.z=year&donut.title=Donut&donut.info=Your message here&donut.caption=Donut chart&donut.x=commodity&donut.y=value&donut.z=year&box.title=Box&box.info=Your message here&box.caption=Box&box.x=commodity&box.z=year&data.title=Data&data.info=Your message here&data.caption=Table&data.format=wide&dsd=%5B%7B%22name%22:%22Flagstate%22,%22definition%22:%22Flagging%20country%20of%20the%20fishing%20vessels.%22,%22primitiveCode%22:%22flag%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22Region%22,%22definition%22:%22Region%22,%22primitiveCode%22:%22region%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22Commodities%22,%22definition%22:%22FAO%20International%20Standard%20Statistical%20Classification%20of%20Fishery%20Commodities%20(ISSCFC)%22,%22primitiveCode%22:%22commodity%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22Trade%20flow%22,%22definition%22:%22United%20Nations%20Standard%20International%20Trade%20Classification%22,%22primitiveCode%22:%22trade_flow%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:1,%22maxOccurs%22:1,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22Year%22,%22definition%22:%22Year%22,%22primitiveCode%22:%22year%22,%22primitiveType%22:%22xsd:int%22,%22columnType%22:%22attribute%22,%22minOccurs%22:1,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22Quantity%22,%22definition%22:%22Quantity%20in%20tons%20of%20imports,%20exports%20and%20re-exports%20fish%20and%20fishery%20products%22,%22primitiveCode%22:%22quantity%22,%22primitiveType%22:%22xsd:decimal%22,%22columnType%22:%22variable%22,%22minOccurs%22:1,%22maxOccurs%22:1,%22uom%22:%22t%22,%22uomLabel%22:%22metric_ton%22%7D,%7B%22name%22:%22Value%22,%22definition%22:%22Value%20in%20US$%20of%20imports,%20exports%20and%20re-exports%20fish%20and%20fishery%20products%22,%22primitiveCode%22:%22value%22,%22primitiveType%22:%22xsd:decimal%22,%22columnType%22:%22variable%22,%22minOccurs%22:1,%22maxOccurs%22:1,%22uom%22:%22$%22,%22uomLabel%22:null%7D,%7B%22name%22:%22geometry%22,%22definition%22:null,%22primitiveCode%22:%22geometry%22,%22primitiveType%22:%22gml:MultiPolygonPropertyType%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22Aggregation%20method%22,%22definition%22:%22Method%20of%20aggregation%22,%22primitiveCode%22:%22aggregation_method%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:1,%22maxOccurs%22:1,%22uom%22:null,%22uomLabel%22:null%7D%5D"

#FAOCapture
#?line.x=year&line.z=species&pie.x=species&pie.z=year&box.x=species&box.z=year&geoCol=flag&withFlag=TRUE&panel=line+pie+box+data&pid=fao_capture_flag_dbquery_advanced_multiyear&layer=fao_capture_dbquery_layer_adv_multiyear&csw_server=https://geonetwork-sdi-lab.d4science.org/geonetwork/srv/eng/csw&csw_version=2.0.2&wfs_server=https://geoserver-sdi-lab.d4science.org/geoserver/sdilab_fisheriesatlas/ows&wfs_version=1.0.0&feature_geom=false&strategy=ogc_viewparams&par="year:2002+2003+2004+2005+2006+2007+2008+2009+2010+2011+2012+2013+2014+2015+2016+2017+2018;aggregation_method:sum&geom=geometry&srs="EPSG:4326"&dsd=%5B%7B"name":"Flagstate","definition":"Flagging%20country%20of%20the%20fishing%20vessels.","primitiveCode":"flag","primitiveType":"xsd:string","columnType":"attribute","minOccurs":0,"maxOccurs":null,"uom":null,"uomLabel":null%7D,%7B"name":"Species","definition":"Species%20captured,%20based%20the%20ASFIS%20list%20of%20species%20for%20fishery%20statistics%20purposes.","primitiveCode":"species","primitiveType":"xsd:string","columnType":"attribute","minOccurs":0,"maxOccurs":null,"uom":null,"uomLabel":null%7D,%7B"name":"Area","definition":"FAO%20Major%20area%20for%20statistical%20purposes","primitiveCode":"f_area","primitiveType":"xsd:string","columnType":"attribute","minOccurs":0,"maxOccurs":null,"uom":null,"uomLabel":null%7D,%7B"name":"Capture","definition":"Quantity%20of%20fish%20in%20number%20or%20biomass%20harvested%20in%20a%20given%20stratum","primitiveCode":"capture","primitiveType":"xsd:decimal","columnType":"variable","minOccurs":1,"maxOccurs":1,"uom":"t","uomLabel":"metric_ton"%7D,%7B"name":"Type%20of%20water","definition":"Marine%20or%20inland%20area","primitiveCode":"f_area_type","primitiveType":"xsd:string","columnType":"attribute","minOccurs":0,"maxOccurs":null,"uom":null,"uomLabel":null%7D,%7B"name":"Year","definition":"Year","primitiveCode":"year","primitiveType":"xsd:int","columnType":"attribute","minOccurs":1,"maxOccurs":null,"uom":null,"uomLabel":null%7D,%7B"name":"geometry","definition":null,"primitiveCode":"geometry","primitiveType":"gml:MultiPolygonPropertyType","columnType":"attribute","minOccurs":0,"maxOccurs":null,"uom":null,"uomLabel":null%7D,%7B"name":"Aggregation%20method","definition":"Method%20of%20aggregation","primitiveCode":"aggregation_method","primitiveType":"xsd:string","columnType":"attribute","minOccurs":1,"maxOccurs":1,"uom":null,"uomLabel":null%7D%5D
#
#?pid=rdb_cdt_42&layer=rdb_cdt_42&csw_server=https://geonetwork-sdi-lab.d4science.org/geonetwork/srv/eng/csw&csw_version=2.0.2&wfs_server=https://geoserver-sdi-lab.d4science.org/geoserver/sdilab_fisheriesatlas/ows&wfs_version=1.0.0&wms_server=https://geoserver-sdi-lab.d4science.org/geoserver/sdilab_fisheriesatlas/wms&wms_version=1.1.0&feature_geom=false&strategy=ogc_viewparams&par=year:2000+2001+2002+2003+2004+2005+2006+2007+2008+2009+2010+2011+2012+2013+2014+2015+2016+2017;aggregation_method:sum&geom=geometry&x=-7385980.315642005&y=874982.5010446282&srs=EPSG:3857&line.info="Your%20message%20here"&geoCol=country&line.x=year&line.z=species&pie.x=species&pie.z=year&panel=line+pie+data&dsd=%5B%7B%22name%22:%22country%22,%22definition%22:null,%22primitiveCode%22:%22country%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22species%22,%22definition%22:null,%22primitiveCode%22:%22species%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22year%22,%22definition%22:null,%22primitiveCode%22:%22year%22,%22primitiveType%22:%22xsd:int%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22catches%22,%22definition%22:null,%22primitiveCode%22:%22catches%22,%22primitiveType%22:%22xsd:decimal%22,%22columnType%22:%22variable%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22geometry%22,%22definition%22:null,%22primitiveCode%22:%22geometry%22,%22primitiveType%22:%22gml:MultiPolygonPropertyType%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22aggregation_method%22,%22definition%22:null,%22primitiveCode%22:%22aggregation_method%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:1,%22maxOccurs%22:1,%22uom%22:null,%22uomLabel%22:null%7D%5D

#?pid=rdb_cdt_42&layer=rdb_cdt_42&csw_server=https://geonetwork-sdi-lab.d4science.org/geonetwork/srv/eng/csw&csw_version=2.0.2&wfs_server=https://geoserver-sdi-lab.d4science.org/geoserver/sdilab_fisheriesatlas/ows&wfs_version=1.0.0&wms_server=https://geoserver-sdi-lab.d4science.org/geoserver/sdilab_fisheriesatlas/wms&wms_version=1.1.0&feature_geom=false&strategy=ogc_viewparams&par=year:2000+2001+2002+2003+2004+2005+2006+2007+2008+2009+2010+2011+2012+2013+2014+2015+2016+2017;aggregation_method:sum&geom=geometry&x=-7385980.315642005&y=874982.5010446282&srs=EPSG:3857&geoCol=country&line.x=year&line.z=species&line.title=Line&line.caption=line%20chart&line.info=%22Your%20message%20here%22&bar.x=year&bar.z=species&bar.title=Bar&bar.caption=bar%20chart&bar.info=%22Your%20message%20here%22&donut.x=species&donut.z=year&donut.title=Donut&donut.caption=pie%20chart&donut.info=info&pie.x=species&pie.z=year&pie.title=Pie&pie.caption=pie%20chart&pie.info=info&data.title=Data&test.title=Test&panel=line+bar+pie+donut+data+test&dsd=%5B%7B%22name%22:%22country%22,%22definition%22:null,%22primitiveCode%22:%22country%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22species%22,%22definition%22:null,%22primitiveCode%22:%22species%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22year%22,%22definition%22:null,%22primitiveCode%22:%22year%22,%22primitiveType%22:%22xsd:int%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22catches%22,%22definition%22:null,%22primitiveCode%22:%22catches%22,%22primitiveType%22:%22xsd:decimal%22,%22columnType%22:%22variable%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22geometry%22,%22definition%22:null,%22primitiveCode%22:%22geometry%22,%22primitiveType%22:%22gml:MultiPolygonPropertyType%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22aggregation_method%22,%22definition%22:null,%22primitiveCode%22:%22aggregation_method%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:1,%22maxOccurs%22:1,%22uom%22:null,%22uomLabel%22:null%7D%5D#

#?pid=session_2019_05_22_surf_ilot_sancho&layer=session_2019_05_22_surf_ilot_sancho&csw_server=https://geonetwork-sdi-lab.d4science.org/geonetwork/srv/eng/csw&csw_version=2.0.2&wfs_server=https://geoserver-sdi-lab.d4science.org/geoserver/Reef_database/ows&wfs_version=1.0.0&wms_server=https://geoserver-sdi-lab.d4science.org/geoserver/Reef_database/wms&wms_version=1.1.0&feature_geom=false&strategy=ogc_filters&geom=the_geom&x=4&y=141&width=256&height=256&bbox=6395228.181650236%2C-2332810.3301209025%2C6395237.736278772%2C-2332800.775492367&srs=EPSG:3857&geoCol=null&panel=data+ird_image&data.title=Data&data.format=long&ird_image.title=Image&ird_image.imageCol=ThumbnailImage&ird_image.script=https://raw.githubusercontent.com/abennici/SdilabGenericPop/master/remotes/ird_image.R&dsd=%5B%7B%22name%22:%22photo_id%22,%22definition%22:null,%22primitiveCode%22:%22photo_id%22,%22primitiveType%22:%22xsd:int%22,%22columnType%22:%22variable%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22datasetID%22,%22definition%22:null,%22primitiveCode%22:%22datasetID%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22session_photo_number%22,%22definition%22:null,%22primitiveCode%22:%22session_photo_number%22,%22primitiveType%22:%22xsd:int%22,%22columnType%22:%22variable%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22photo_relative_file_path%22,%22definition%22:null,%22primitiveCode%22:%22photo_relative_file_path%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22decimalLatitude%22,%22definition%22:null,%22primitiveCode%22:%22decimalLatitude%22,%22primitiveType%22:%22xsd:decimal%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22decimalLongitude%22,%22definition%22:null,%22primitiveCode%22:%22decimalLongitude%22,%22primitiveType%22:%22xsd:decimal%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22footprintWKT%22,%22definition%22:null,%22primitiveCode%22:%22footprintWKT%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22GPSDateTime%22,%22definition%22:null,%22primitiveCode%22:%22GPSDateTime%22,%22primitiveType%22:%22xsd:datetime%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22DateTimeOriginal%22,%22definition%22:null,%22primitiveCode%22:%22DateTimeOriginal%22,%22primitiveType%22:%22xsd:datetime%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22LightValue%22,%22definition%22:null,%22primitiveCode%22:%22LightValue%22,%22primitiveType%22:%22xsd:decimal%22,%22columnType%22:%22variable%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22ImageSize%22,%22definition%22:null,%22primitiveCode%22:%22ImageSize%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22Make%22,%22definition%22:null,%22primitiveCode%22:%22Make%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22Model%22,%22definition%22:null,%22primitiveCode%22:%22Model%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22ThumbnailImage%22,%22definition%22:null,%22primitiveCode%22:%22ThumbnailImage%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22PreviewImage%22,%22definition%22:null,%22primitiveCode%22:%22PreviewImage%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22URL_original_image%22,%22definition%22:null,%22primitiveCode%22:%22URL_original_image%22,%22primitiveType%22:%22xsd:string%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D,%7B%22name%22:%22the_geom%22,%22definition%22:null,%22primitiveCode%22:%22the_geom%22,%22primitiveType%22:%22gml:PointPropertyType%22,%22columnType%22:%22attribute%22,%22minOccurs%22:0,%22maxOccurs%22:null,%22uom%22:null,%22uomLabel%22:null%7D%5D